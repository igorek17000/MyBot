{"version":3,"file":"FTBotAPIPairList.6be233af.js","sources":["../../src/components/ftbot/FTBotAPIPairList.vue","../../src/components/ftbot/FTBotAPIPairList.vue?vue&type=template&lang.js"],"sourcesContent":["<template>\n  <!-- TODO We could move the list into a component since we are reusing the same code for both lists. -->\n  <div>\n    <div>\n      <h3>Whitelist Methods</h3>\n\n      <div v-if=\"botStore.activeBot.pairlistMethods.length\" class=\"list\">\n        <b-list-group v-for=\"(method, key) in botStore.activeBot.pairlistMethods\" :key=\"key\">\n          <b-list-group-item href=\"#\" class=\"pair white\">{{ method }}</b-list-group-item>\n        </b-list-group>\n      </div>\n    </div>\n    <!-- Show Whitelist -->\n    <h3>Whitelist</h3>\n    <div v-if=\"botStore.activeBot.whitelist.length\" class=\"list\">\n      <b-list-group v-for=\"(pair, key) in botStore.activeBot.whitelist\" :key=\"key\">\n        <b-list-group-item class=\"pair white\">{{ pair }}</b-list-group-item>\n      </b-list-group>\n    </div>\n    <p v-else>List Unavailable. Please Login and make sure server is running.</p>\n    <hr />\n\n    <!-- Blacklsit -->\n    <div>\n      <label\n        class=\"mr-auto h3\"\n        title=\"Blacklist - Select (followed by a click on '-') to remove pairs\"\n        >Blacklist</label\n      >\n      <div class=\"float-right d-flex d-flex-columns pr-1\">\n        <b-button\n          id=\"blacklist-add-btn\"\n          class=\"mr-1\"\n          :class=\"botStore.activeBot.botApiVersion >= 1.12 ? 'col-6' : ''\"\n          size=\"sm\"\n          >+\n        </b-button>\n        <b-button\n          v-if=\"botStore.activeBot.botApiVersion >= 1.12\"\n          size=\"sm\"\n          class=\"col-6\"\n          title=\"Select pairs to delete pairs from your blacklist.\"\n          :disabled=\"blacklistSelect.length === 0\"\n          @click=\"deletePairs\"\n        >\n          <DeleteIcon :size=\"16\" title=\"Delete Bot\" />\n        </b-button>\n      </div>\n      <b-popover\n        title=\"Add to blacklist\"\n        target=\"blacklist-add-btn\"\n        triggers=\"click blur\"\n        :show.sync=\"blackListShow\"\n      >\n        <form ref=\"form\" @submit.prevent>\n          <div>\n            <b-form-group label-cols=\"2\" label=\"Pair\" label-for=\"pair-input\">\n              <b-form-input\n                id=\"pair-input\"\n                v-model=\"newblacklistpair\"\n                required\n                autofocus\n              ></b-form-input>\n            </b-form-group>\n            <b-button\n              id=\"blacklist-submit\"\n              class=\"float-right mb-2\"\n              size=\"sm\"\n              type=\"submit\"\n              @click=\"addBlacklistPair\"\n            >\n              Add</b-button\n            >\n          </div>\n        </form>\n      </b-popover>\n    </div>\n    <div v-if=\"botStore.activeBot.blacklist.length\" class=\"list\">\n      <b-list-group v-for=\"(pair, key) in botStore.activeBot.blacklist\" :key=\"key\">\n        <b-list-group-item\n          class=\"pair black\"\n          :active=\"blacklistSelect.indexOf(key) > -1\"\n          @click=\"blacklistSelectClick(key)\"\n          ><span class=\"check\">&#x2714;</span>{{ pair }}</b-list-group-item\n        >\n      </b-list-group>\n    </div>\n    <p v-else>BlackList Unavailable. Please Login and make sure server is running.</p>\n    <!-- Pagination -->\n    <!-- TODO Add pagination support -->\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport DeleteIcon from 'vue-material-design-icons/Delete.vue';\nimport { defineComponent, ref, onMounted } from '@vue/composition-api';\nimport { useBotStore } from '@/stores/ftbotwrapper';\n\nexport default defineComponent({\n  name: 'FTBotAPIPairList',\n  components: { DeleteIcon },\n  setup() {\n    const newblacklistpair = ref('');\n    const blackListShow = ref(false);\n    const blacklistSelect = ref<number[]>([]);\n    const botStore = useBotStore();\n\n    const initBlacklist = () => {\n      if (botStore.activeBot.whitelist.length === 0) {\n        botStore.activeBot.getWhitelist();\n      }\n      if (botStore.activeBot.blacklist.length === 0) {\n        botStore.activeBot.getBlacklist();\n      }\n    };\n\n    const addBlacklistPair = () => {\n      if (newblacklistpair.value) {\n        blackListShow.value = false;\n\n        botStore.activeBot.addBlacklist({ blacklist: [newblacklistpair.value] });\n        newblacklistpair.value = '';\n      }\n    };\n\n    const blacklistSelectClick = (key) => {\n      console.log(key);\n      const index = blacklistSelect.value.indexOf(key);\n      if (index > -1) {\n        blacklistSelect.value.splice(index, 1);\n      } else {\n        blacklistSelect.value.push(key);\n      }\n    };\n\n    const deletePairs = () => {\n      if (blacklistSelect.value.length === 0) {\n        console.log('nothing to delete');\n        return;\n      }\n      // const pairlist = blacklistSelect.value;\n      const pairlist = botStore.activeBot.blacklist.filter(\n        (value, index) => blacklistSelect.value.indexOf(index) > -1,\n      );\n      console.log('Deleting pairs: ', pairlist);\n      botStore.activeBot.deleteBlacklist(pairlist);\n      blacklistSelect.value = [];\n    };\n    onMounted(() => {\n      initBlacklist();\n    });\n    return {\n      addBlacklistPair,\n      deletePairs,\n      initBlacklist,\n      blacklistSelectClick,\n      botStore,\n      newblacklistpair,\n      blackListShow,\n      blacklistSelect,\n    };\n  },\n});\n</script>\n\n<style scoped lang=\"scss\">\n.check {\n  // Hidden checkbox on blacklist selection\n  background: #41b883;\n  opacity: 0;\n  border-radius: 50%;\n  z-index: 5;\n  width: 1.3em;\n  height: 1.3em;\n  top: -0.2em;\n  left: -0.2em;\n  position: absolute;\n  transition: opacity 0.2s;\n}\n\n.list-group-item.active .check {\n  opacity: 1;\n}\n\n.list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));\n  grid-gap: 0.5rem;\n  padding-bottom: 1rem;\n}\n\n.pair {\n  border: 1px solid #ccc;\n  background: #41b883;\n  padding: 0.5rem;\n  border-radius: 5px;\n  text-align: center;\n  position: relative;\n  cursor: pointer;\n}\n\n.white {\n  background: white;\n  color: black;\n}\n\n.black {\n  background: black;\n  color: white;\n}\n</style>\n","\n<!-- TODO We could move the list into a component since we are reusing the same code for both lists. -->\n<div>\n  <div>\n    <h3>Whitelist Methods</h3>\n\n    <div v-if=\"botStore.activeBot.pairlistMethods.length\" class=\"list\">\n      <b-list-group v-for=\"(method, key) in botStore.activeBot.pairlistMethods\" :key=\"key\">\n        <b-list-group-item href=\"#\" class=\"pair white\">{{ method }}</b-list-group-item>\n      </b-list-group>\n    </div>\n  </div>\n  <!-- Show Whitelist -->\n  <h3>Whitelist</h3>\n  <div v-if=\"botStore.activeBot.whitelist.length\" class=\"list\">\n    <b-list-group v-for=\"(pair, key) in botStore.activeBot.whitelist\" :key=\"key\">\n      <b-list-group-item class=\"pair white\">{{ pair }}</b-list-group-item>\n    </b-list-group>\n  </div>\n  <p v-else>List Unavailable. Please Login and make sure server is running.</p>\n  <hr />\n\n  <!-- Blacklsit -->\n  <div>\n    <label\n      class=\"mr-auto h3\"\n      title=\"Blacklist - Select (followed by a click on '-') to remove pairs\"\n      >Blacklist</label\n    >\n    <div class=\"float-right d-flex d-flex-columns pr-1\">\n      <b-button\n        id=\"blacklist-add-btn\"\n        class=\"mr-1\"\n        :class=\"botStore.activeBot.botApiVersion >= 1.12 ? 'col-6' : ''\"\n        size=\"sm\"\n        >+\n      </b-button>\n      <b-button\n        v-if=\"botStore.activeBot.botApiVersion >= 1.12\"\n        size=\"sm\"\n        class=\"col-6\"\n        title=\"Select pairs to delete pairs from your blacklist.\"\n        :disabled=\"blacklistSelect.length === 0\"\n        @click=\"deletePairs\"\n      >\n        <DeleteIcon :size=\"16\" title=\"Delete Bot\" />\n      </b-button>\n    </div>\n    <b-popover\n      title=\"Add to blacklist\"\n      target=\"blacklist-add-btn\"\n      triggers=\"click blur\"\n      :show.sync=\"blackListShow\"\n    >\n      <form ref=\"form\" @submit.prevent>\n        <div>\n          <b-form-group label-cols=\"2\" label=\"Pair\" label-for=\"pair-input\">\n            <b-form-input\n              id=\"pair-input\"\n              v-model=\"newblacklistpair\"\n              required\n              autofocus\n            ></b-form-input>\n          </b-form-group>\n          <b-button\n            id=\"blacklist-submit\"\n            class=\"float-right mb-2\"\n            size=\"sm\"\n            type=\"submit\"\n            @click=\"addBlacklistPair\"\n          >\n            Add</b-button\n          >\n        </div>\n      </form>\n    </b-popover>\n  </div>\n  <div v-if=\"botStore.activeBot.blacklist.length\" class=\"list\">\n    <b-list-group v-for=\"(pair, key) in botStore.activeBot.blacklist\" :key=\"key\">\n      <b-list-group-item\n        class=\"pair black\"\n        :active=\"blacklistSelect.indexOf(key) > -1\"\n        @click=\"blacklistSelectClick(key)\"\n        ><span class=\"check\">&#x2714;</span>{{ pair }}</b-list-group-item\n      >\n    </b-list-group>\n  </div>\n  <p v-else>BlackList Unavailable. Please Login and make sure server is running.</p>\n  <!-- Pagination -->\n  <!-- TODO Add pagination support -->\n</div>\n"],"names":[],"mappings":"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"}